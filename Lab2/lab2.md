# Lab 2: RV64 时钟中断处理

**学号: **

**姓名: **

## 4.1 准备工程
在4.1步骤中我们需要将repo中最新的`stddef.h`等文件同步到lab1实现的工程中，同时为了达到原来相同效果的输出，我们也需要更改main函数中原本对`puti`，`puts`的调用。
此外，我们需要对`vmlinux.lds` 以及`head.S`文件进行更改，以实现我们的中断服务：
- 需要在`vmlinux.lds`文件中加入`init`部分，这部分取代了之前的`entry`部分，用于存放os的启动内核代码，而原先的`entry`部分则用于存放中断处理指令。
```linker script
*(.text.init)
```
- 也要对`head.S`存放的位置进行更改，如下所示：
```assembly
.section .text.init
```


## 4.2 开启异常处理
这一部分是对`head.S`进行更改，在这一阶段，我们需要对指定的寄存器进行赋值，以实现正常的中断功能。
首先是要设置`stvec`寄存器，它是”中断向量表基址”，存储了中断处理程序的地址




## 4.3 实现上下文切换

## 4.4 实现异常处理函数

## 4.5 实现时钟中断相关函数

## 4.6 编译及测试

## 思考题
